<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tilemap</title>
</head>
<body onload="init()">
    <script src="../codef/codef_core.js"></script>
    <script>
// Displays MindBomb menu screen full mapp

// playfield width in number of tiles
const mapWidth = 80;
let tiles, can;
let map = "#################GG#G##GGG###########################GGG###GG#GG#GG##########################GGG#GGGG#GG##########*((((()############4G4####G#G##G#############################GGGGGGGG##########*(jk(fg()###########5G5####GGG#GG###############################GGGGG###########*($%($%()+,#########6G6#####GGGG###############7878787878######GG78#GG##########*(&'(&'()-.#B####*(((((((()#GGG##78787878787878<=<=<=<=<=###GGGG#<=##########01#H????????JKIB###*(XY(lm(Z[()#G###<=<=<=<=<=<=<=<=<=<=<=<=###GGGG#<=##########23##########+,#B+,#*($%($%($%()GG###<=9:9:9:<=<=<=<=<=<=<=<=H??IGGG#<=+,########CD##########-.#B-.#*(&'(&'(&'()G####<=;de;##<=<=<=<=<=<=<=<=H??IG###<=-.#######BEFB########H????JK??????????????I###<=;$%;-.<=<=<=<=<=<=<=<=#H??I###<=+,###+,#CDCDCD############+,78################<=;&';+,<=<=<=<=<=<=<=<=H??I####<=-.###-.BEFEFEFB###########-.<=################<=H??I-.<=<=<=<=<=<=<=<=#H??I##H??JK???JK???????I######*(()#+,<=################<=7878+,<=<=<=<=<=<=<=<=H??I######-.###-.#############*(VW()-.<=################<=<=<=-.<=<=<=<=<=<=<=<=#H??I#####+,###+,####+,#######*($%()+,<=####H??I##*(()##9:9:9:+,<=<=<=<=<=<=<=<=###H??I###-.###-.####-.#######*(&'()-.<=##78#H?I#*(\\]()#######-.<=<=<=<=<=<=<=<=###*(()###+,###+,###HJK?????????????????I*hi)#B##*($%()#######+,<=<=<=<=<=<=<=<=##*(PQ()##-.###-.####-.#################*($%()B##*(&'()#######-.<=<=<=<=<=<=<=<=##*($%()##+,###+,####+,#################*(&'()B##H???????????I+,<=<=<=<=<=<=<=<=##*(&'()##-.###-.####-.##################H??I#B#########787878-.<=<=<=<=<=<=<=<=#H??????????I##+,###HJK?????????I#############B#########<=<=<=+,<=<=<=<=<=<=<=<=###############-.####-.####/##/###CD###/###////###*(()##<=<=<=-.<=<=<=<=<=<=<=<=###*(()######H???????JKI##//////##EF#////##/////#*(^_()#<=<=<=+,<=<=<=<=<=<=<=<=##*(NO()+,###########-.##//#//#//####//#//#//#//#*($%()#<=<=<=-.<=<=<=<=<=<=<=<=##*($%()-.###########+,##//#//#//#//#//#//#//#//#*(&'()#<=<=<=+,<=<=<=<=<=<=<=<=##*(&'()+,###########-.##//#//#//#//#//#//#//#//H????I##<=<=<=-.<=<=<=<=<=<=<=<=##H?????JK??I########+,##//#//#//#//#//#//#//#//########<=<=<=+,<=<=<=<=<=<=<=<=########+,###########-.##//#//#//#//#//#//#//#//#CD#####<=<=<=-.<=<=<=<=<=<=<=<=########-.###########+,##//#//#//(bc(//#//#//#//#EF#####<=9:9:+,9:9:<=<=<=<=<=<=########+,###########-.##//#//#//($%(//#//#/////#01#-.##<=*(()-.####<=<=<=<=<=<=########-.###*(()####+,##//#//#//(&'(//#//#////##23#+,##<=(`a(+,###4<=<=<=<=<=<=########+,##*(RS()###-.##H??????????????????????????JKI#<=($%(-.#CD5<=<=<=<=<=<=########-.##*($%()###+,#############################+,##<=(&'(+,#EF6<=<=<=<=<=<=###>####+,##*(&'()#>#-.##////###///####/##/###////##-.##<=H????????I<=<=<=<=<=<=#H??????JK??????????????I/////#/////##//////##/////#+,##<=7878787878<=<=<=<=<=<=###7878#+,#######;#######//#//#//#//#//#//#//#//#//#-.##<=<=<=<=<=<=<=<=<=<=<=<=###<=<=#-.#######;#######//#//#//#//#//#//#//#//#//#+,##<=<=<=<=<=<=<=<=<=<=<=<=###<=<=#+,#######;#######/////#//#//#//#//#//#////##-.##<=<=<=<=<=<=<=<=<=<=<=<=B##<=<=#-.#######;#######//#//#//#//#//#//#//#//#//#+,##<=<=<=<=<=<=<=<=<=<=<=<=B##<=<=#+,##*(()#;#######//#//#//#//#//#//#//#//#//#-.##<=<=<=<=<=<=<=<=<=<=<=<=B##7LM8#-.#*(TU();#######//#//#//#//#//<no=//#//#//#+,##<=<=<=<=<=<=<=<=<=<=<=<=CD#;$%;#+,#*($%();#######/////#//#//#//(pq(//#/////#-.##<=<=<=<=<=<=<=9:9:9:9:9:EFB;&';#-.#*(&'();##>>###////###///##//(rs(//#////##+,##9:9:9:9:9:9:9:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@AAAAAAAAAAAAAAAAAAAAAAAAAAAtuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
.split('').map(n=>n.charCodeAt(0) - 35);
function init(){
    can = new canvas(32*mapWidth, (Math.floor(map.length / mapWidth) + 1)*32, "result");
    tiles = new image("media/gameblocks.png");
    tiles.img.onload = next;
}
function next(){
    tiles.initTile(32,32,0);
    let x=y=0;
    map.forEach((m,i) => {
        tiles.drawTile(can, 83, x, y); // background tile
        tiles.drawTile(can, m, x, y);
        x += 32;
        if(x >= 32*mapWidth){
            x=0;
            y+=32;
        }
    })
}

</script>
<div id="result"></div>
</body>
</html>
